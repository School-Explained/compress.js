<!DOCTYPE html>
<html>
<head>
	<title>Compress</title>
</head>
<body>

	<h1>Compress</h1>
	<input type="file" id='upload' name="" multiple>
	<script type="text/javascript" src='./index.js'></script>
	<script type="text/javascript">

		"use strict";

		const compressor = new Compress()
		// compressor.attach('#upload', {
		// 	size: 4,
		// 	quality: .75
		// }).then((data) => {
		// 	console.log('uploaded compressed ', data)
		// })

		const upload = document.getElementById('upload')

		upload.addEventListener('change', function (evt){
			const files = [...evt.target.files]
			compressor.compress(files, {
				size: 4,
				quality: .75
			}).then((results) => {
				console.log(results)
				const file = Compress.convertBase64ToFile(results[0].data, 'image/png')
				console.log(file)
			})
		}, false)

	</script>
</body>
</html>